{%- assign dynamic_image = blank -%}
{%- assign size_cols_desktop = 2 -%}
{%- assign vip_level = blank -%}
{%- assign vip_text = blank -%}
{%- assign vip_level_label = blank -%}
{%- if customer
  and customer.metafields.smile.vip_tier_name
  and customer.metafields.smile.vip_tier_name.value != blank
-%}
  {%- assign vip_level_label = customer.metafields.smile.vip_tier_name.value -%}
  {%- assign vip_level = vip_level_label | downcase -%}
  {%- case vip_level -%}
    {%- when 'os legend' -%}
      {%- assign dynamic_image = section.settings.image_os_legend -%}
      {%- assign vip_text = section.settings.text_os_legend -%}
    {%- when 'os icon' -%}
      {%- assign dynamic_image = section.settings.image_os_icon -%}
      {%- assign vip_text = section.settings.text_os_icon -%}
    {%- when 'os hero' -%}
      {%- assign dynamic_image = section.settings.image_os_hero -%}
      {%- assign vip_text = section.settings.text_os_hero -%}
    {%- when 'os member' -%}
      {%- assign dynamic_image = section.settings.image_os_member -%}
      {%- assign vip_text = section.settings.text_os_member -%}
  {%- endcase -%}
{%- endif -%}

<div class="vip-section">
  <div class="flexible-layout valign-middle">
    <div class="column column--half">
      <div class="image-overlap" style="max-width: 260px">
        <div class="image-overlap__image image-overlap__image-1">
          <div class="fade-in-up">
            {%- if dynamic_image == blank -%}
              <div class="placeholder-image">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
            {%- else -%}
              {%- render 'image' with dynamic_image, size_cols_desktop: size_cols_desktop -%}
            {%- endif -%}
          </div>
        </div>
      </div>
    </div>
    <div class="column column--half">
      <div class="feature-text-paired">
        <h2 class="majortitle in-content h1">{{ vip_level_label }}</h2>
        <div class="rte lightly-spaced-row">{{ vip_text }}</div>
      </div>
    </div>
  </div>
</div>
